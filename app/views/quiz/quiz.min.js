"use strict";angular.module("app.quiz",["ngRoute"]).config(["$routeProvider",function(a){a.when("/admin/quiz/builder",{templateUrl:"views/quiz/quizbuilder.html",controller:"quizBuilderCtrl"});a.when("/admin/quizzes",{templateUrl:"views/quiz/quizzes.html",controller:"quizzesCtrl"});a.when("/quiz/:id",{templateUrl:"views/quiz/quiz.html",controller:"quizCtrl"})}]).controller("quizBuilderCtrl",["$scope","$http","localStorageService",function(a,f,e,d,c,b){a.title="Quiz Builder";a.quiz=[{question:"example",options:[{title:"Option 1",iscorrect:true},{title:"option 2",iscorrect:false}],answer:0}];a.addQuestion=function(g){if(g){a.quiz.push({question:g.question,options:[],answer:0});a.input.question=""}else{Materialize.toast("Question cannot be empty",1000)}};a.addAnswer=function(h,g){if(h.title){a.quiz[g].options.push({title:h.title,iscorrect:false});a.answer=""}else{Materialize.toast("Answer cannot be empty",1000)}};a.selectRightAnswer=function(l,k){a.quiz[l].answer=k;var g=a.quiz[l].options.length;for(var h=0;h<g;h++){a.quiz[l].options[h].iscorrect=false}a.quiz[l].options[k].iscorrect=true};a.save=function(i,h,g){if(i&&h&&g){f({url:backend+"/quiz/create",method:"POST",dataType:"json",data:a.quiz,headers:{"Content-Type":"application/json; charset=utf-8",title:i,points:h,passmark:g,token:e.get("user_auth").user_auth[0].token}}).success(function(l,j,m,k){a.data=l;console.log(l);Materialize.toast("Quiz has been created",1000)}).error(function(l,j,m,k){a.error=true;Materialize.toast("Error creating quiz, intenet connection?",1000)})}else{Materialize.toast("Values cannot be null",1000)}};a.add=function(g){}}]).controller("quizzesCtrl",["$scope","$http","localStorageService",function(a,f,e,d,c,b){a.title="Quizzes";f({url:backend+"/quiz",method:"GET",dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8",token:e.get("user_auth").user_auth[0].token}}).success(function(i,g,j,h){a.quizzes=i.quiz;console.log(i)}).error(function(i,g,j,h){a.error=true})}]).controller("quizCtrl",["$scope","$http","localStorageService","$routeParams",function(a,e,d,c,b){a.quiz=c.id}]);