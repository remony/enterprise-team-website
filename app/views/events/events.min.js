"use strict";angular.module("app.events",["ngRoute"]).config(["$routeProvider",function(e){e.when("/events",{templateUrl:"views/events/events.html",controller:"eventsCtrl"})}]).controller("eventsCtrl",["$scope","$http","localStorageService",function(e,t,n,o){e.title="New Users",t({url:"http://localhost:8080/event",method:"GET",dataType:"json",data:"",headers:{"Content-Type":"application/json; charset=utf-8"}}).success(function(t,n,o,s){e.events=t,console.log(t)})}]).config(["$routeProvider",function(e){e.when("/events/:id",{templateUrl:"views/events/event.html",controller:"eventCtrl"})}]).controller("eventCtrl",["$scope","$http","localStorageService","$routeParams",function(e,t,n,o){e.title="New Users",t({url:"http://localhost:8080/event/"+o.id,method:"GET",dataType:"json",data:"",headers:{"Content-Type":"application/json; charset=utf-8"}}).success(function(t,n,o,s){e.event=t.event[0],console.log(t.event[0])})}]).config(["$routeProvider",function(e){e.when("/calender",{templateUrl:"views/events/calender.html",controller:"calenderCtrl"})}]).controller("calenderCtrl",["$scope","$http","localStorageService","$routeParams",function(e,t,n,o,s,a){e.title="New Users";var l=[];e.eventSources={},e.events=[],e.uiConfig={calendar:{height:"100%",editable:!0,header:{left:"month basicWeek basicDay agendaWeek agendaDay",center:"title",right:"today prev,next"},dayClick:e.alertEventOnClick,eventDrop:e.alertOnDrop,eventResize:e.alertOnResize}};var r=[{title:"test",start:"2015-08-28T23:00:00.000Z",end:"2015-08-28T23:00:00.000Z",__id:2},{title:"test",start:"2015-08-14T23:00:00.000Z",end:"2015-08-14T23:00:00.000Z",__id:3},{title:"test11111111111",start:"2015-07-02T23:00:00.000Z",end:"2015-08-14T23:00:00.000Z",__id:4},{title:"test11111111111",start:"2015-07-02T23:00:00.000Z",end:"2015-08-14T23:00:00.000Z",__id:5},{title:"test",start:"2014-08-28T23:00:00.000Z",end:"2014-08-28T23:00:00.000Z",__id:6},{title:"It works!!!",start:"2015-09-22T23:00:00.000Z",end:"2015-09-23T23:00:00.000Z",__id:7,url:"#/events/1"}];t({url:"http://localhost:8080/event",method:"GET",dataType:"json",data:"",headers:{"Content-Type":"application/json; charset=utf-8"}}).success(function(t,n,o,s){console.log(t.Events),l=t.Events;for(var a=0;a<l.length;a++){var r=l[a].startDate.split(/[- :]/)[0].split(/[- \/]/)[0],i=l[a].startDate.split(/[- :]/)[0].split(/[- \/]/)[1],c=l[a].startDate.split(/[- :]/)[0].split(/[- \/]/)[2],d=l[a].endDate.split(/[- :]/)[0].split(/[- \/]/)[0],p=l[a].endDate.split(/[- :]/)[0].split(/[- \/]/)[1],v=l[a].endDate.split(/[- :]/)[0].split(/[- \/]/)[2];e.events.push({title:l[a].name,start:new Date(r,i,c),end:new Date(d,p,v),className:[l[a].name]}),e.eventRender=function(t,n,o){n.attr({tooltip:t.title,"tooltip-append-to-body":!0}),$compile(n)(e)}}});e.events;e.eventSources=[r]}]).config(["$routeProvider",function(e){e.when("/admin/events/add",{templateUrl:"views/events/eventEditor.html",controller:"eventEditorAddCtrl"})}]).controller("eventEditorAddCtrl",["$scope","$http","localStorageService","$routeParams",function(e,t,n,o,s,a){e.title="New Event",e.siteAction="add",e.event=[],e.event.points=100,e.update=function(n){console.log(n),t({url:"http://localhost:8080/event/insert",method:"POST",dataType:"json",data:"",headers:{"Content-Type":"application/json; charset=utf-8",name:n.title,description:n.description,location:n.location,venue:n.venue,startdate:n.startDate,enddate:n.endDate,points:parseInt(n.points)}}).success(function(t,n,o,s){e.event=t.event[0],console.log(t.event[0])})}}]);